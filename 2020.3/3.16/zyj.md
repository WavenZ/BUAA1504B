> 2020/3/16 今天又是元气满满的一天

## 1. C/C++ 基础知识
(1) 静态链接库和动态链接库的区别？
静态链接库可以看做是一些目标文件（.o）的集合，在Linux系统中通常以`.a`结尾，在Window系统中通常以`.lib`文件结尾。

程序员利用静态链接库开发程序时，不需要将静态链接库的源码进行重新编译，只需要将`.a/.lib`文件与自己的`.o/.obj`文件进行链接即可。此外，如果你想将自己的函数提供给别人使用，但又不想直接将源码提供别比人，就可以生成静态链接库供别人使用。

**静态链接库有如下两个主要的缺点：**
 1. 静态链接库在使用时被编译进了目标可执行文件，它的速度虽然快，但是造成了空间浪费。
 2. 当对静态链接库进行修改后，必须对所有源代码进行重新编译，使用起来比较麻烦。

**动态链接库可以解决以上两个问题：**

 1. 动态链接库在运行时才载入对应的模块，没有编译进可执行文件，可以实现多个实例共用一个动态链接库。
 2. 由于动态链接库无需编译进可执行文件，因此修改动态链接库后无需对源代码进行重新编译。
(2) 预编译、编译、汇编和链接几个阶段的作用？
C/C++的编译过程可分为如下四步：

<img src="https://img-blog.csdnimg.cn/2018111314312371.png" width="80%">

**预编译**
预编译过程的主要任务是处理源代码中的预编译指令（以"#"开头），例如#include、#define、#ifdefine等
**编译**
编译的过程是把预编译完成之后的文件进行**词法分析**、**语法分析**、**语义分析**以及**优化**等操作，然后生成相应的汇编代码文件。
**汇编**
汇编过程是将汇编代码转变为计算机可以执行的机器指令。汇编的过程比较简单，只需要将指令逐条翻译为机器指令即可。
**链接**
经过预编译、编译、汇编后得到的hello.o文件实际上是一个无法直接运行的中间目标文件，简称目标文件。
链接是一个很复杂的过程，要得到可执行文件需要将许多文件链接起来。它的主要目的是正确处理各个模块之间的引用，使得各个模块之间能够正确的衔接。链接过程主要包括了地址和空间分配、符号决议和重定位等步骤。
## 2. 操作系统
(1) 进程有哪几个状态，各个状态之间的切换是如何发生的？
一般而言，进程由如下三种状态：

1. 运行态：进程占用CPU，并在CPU上运行。
2. 就绪态：进程已经具备运行条件，但是CPU还没有分配过来。
3. 阻塞态：进程因等待某件事发生而暂时不能运行。

下面是状态转换图：
<img src = "" width = "50%">

如状态转换图中所示，三种状态之间转换为四种情况：

1. 运行->就绪：(1) 系统分配的时间片用完，调度其它进程运行；(2) 在采用抢占式优先级调度算法的系统中，当有更高优先级的进程要运行时，该进程被迫让出CPU，该进程便由执行状态转变为就绪状态。
2. 就绪->运行：系统在就绪队列中调度进程执行。
3. 运行->阻塞：正在执行的进程因发生某等待时间而无法执行，则进程由执行状态变为阻塞状态，如发生了I/O请求。
4. 阻塞->就绪：进程所等待的事件已经发生，就进入就绪队列。

在一些系统中，又增加了一些新状态，如挂起状态，可运行状态，深度睡眠状态，浅度睡眠状态，暂停状态，僵死状态等。
(2) 分页和分段有什么区别？
分页和分段有很多相似之处：两者都采用离散分配方式；都通过地址映射机构来实现地址变换。

在概念上两者完全不同，主要表现如下：
1. 页是信息的物理单位，分页是为实现离散分配方式，以消减内存的外零头，提高内存利用率。分页仅仅是由于系统管理的需要而不是用户的需要。
   段是信息的逻辑单位，含有一组其意义相对完整的信息。分段的目的是为了能更好地满足用户的需要。
2. 页的大小是固定且由系统决定，由系统把逻辑地址划分成页号和页内地址两部分，是由机器实现的，因而在系统中只能有一种大小的页面；
   段的长度取决不固定，决定于用户所编写的程序，通常由编译程序在对源程序进行编译时，根据信息的性质来划分。
3. 分页的作业地址空间是一维的，即单一的线性地址空间，程序员只需利用一个记忆符，即可表示一个地址；
   分段的作业地址空间是二维的，程序员在标识一个地址时，即需给出段名，又需给出段内地址。
## 3. 计算机网络
(1) TCP 和 UDP区别，TCP如何保证可靠性？
1. TCP面向连接（如打电话要先拨号建立连接）; UDP是无连接的，即发送数据之前不需要建立连接。
2. TCP提供可靠的服务。也就是说，通过TCP连接传送的数据，无差错，不丢失，不重复，且按序到达; UDP尽最大努力交付，即不保证可靠交付
3. TCP面向字节流，实际上是TCP把数据看成一连串无结构的字节流; UDP是面向报文的。
4. 每一条TCP连接只能是点到点的;UDP支持一对一，一对多，多对一和多对多的交互通信。
5. TCP首部开销20字节; UDP的首部开销小，只有8个字节。
6. TCP的逻辑通信信道是全双工的可靠信道，UDP则是不可靠信道。

TCP协议保证数据传输可靠性的方式主要有：
1. 校验和
2. 序列号
3. 确认应答
4. 超时重传
5. 连接管理
6. 流量控制
7. 拥塞控制
(2) TCP 拥塞控制？
TCP传输的过程中，发送端开始发送数据的时候，如果刚开始就发送大量的数据，那么就可能造成一些问题。网络可能在开始的时候就很拥堵，如果给网络中在扔出大量数据，那么这个拥堵就会加剧。拥堵的加剧就会产生大量的丢包，就对大量的超时重传，严重影响传输。

所以TCP引入了慢启动的机制，在开始发送数据时，先发送少量的数据探路。探清当前的网络状态如何，再决定多大的速度进行传输。这时候就引入一个叫做拥塞窗口的概念。发送刚开始定义拥塞窗口为 1，每次收到ACK应答，拥塞窗口加 1。在发送数据之前，首先将拥塞窗口与接收端反馈的窗口大小比对，取较小的值作为实际发送的窗口。

拥塞窗口的增长是指数级别的。慢启动的机制只是说明在开始的时候发送的少，发送的慢，但是增长的速度是非常快的。为了控制拥塞窗口的增长，不能使拥塞窗口单纯的加倍，设置一个拥塞窗口的阈值，当拥塞窗口大小超过阈值时，不能再按照指数来增长，而是线性的增长。在慢启动开始的时候，慢启动的阈值等于窗口的最大值，一旦造成网络拥塞，发生超时重传时，慢启动的阈值会为原来的一半（这里的原来指的是发生网络拥塞时拥塞窗口的大小），同时拥塞窗口重置为 1。
## 4. 数据库
(1) mysql 的悲观锁和乐观锁区别？
1. 悲观锁：每次去拿数据的时候都认为别人会修改，所以每次在拿数据的时候都会上锁，这样别人想拿这个数据就会block直到它拿到锁。
2. 乐观锁：每次去拿数据的时候都认为别人不会修改，所以不会上锁，但是在更新的时候会判断一下在此期间别人有没有去更新这个数据，可以使用版本号等机制。
(2) 什么是存储过程？用什么来调用？
“存储过程（Stored Procedure）是在大型数据库系统中，一组为了完成特定功能的SQL 语句集，存储在数据库中，经过第一次编译后再次调用不需要再次编译，用户通过指定存储过程的名字并给出参数（如果该存储过程带有参数）来执行它。存储过程是数据库中的一个重要对象。”

调用方式主要有两类：
1. 可以用一个命令对象来调用存储过程。
2. 可以供外部程序来调用。
## 5. 算法
(1) 给定一个数组，它的第 i 个元素是一支给定股票第 i 天的价格。设计一个算法来计算你所能获取的最大利润。你可以尽可能地完成更多的交易（多次买卖一支股票）。

链接：https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii

(2) 给定不同面额的硬币 coins 和一个总金额 amount。编写一个函数来计算可以凑成总金额所需的最少的硬币个数。如果没有任何一种硬币组合能组成总金额，返回 -1。

链接：https://leetcode-cn.com/problems/coin-change
